<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-02-27">

<title>Project A – 432-2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">432-2025</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./calendar.html"> 
<span class="menu-text">Calendar</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://thomaselove.github.io/432-syllabus-2025/"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./notes.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./software.html"> 
<span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/THOMASELOVE/432-data"> 
<span class="menu-text">Get Data</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="./lab1.html">
 <span class="dropdown-text">Lab 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab2.html">
 <span class="dropdown-text">Lab 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab3.html">
 <span class="dropdown-text">Lab 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab4.html">
 <span class="dropdown-text">Lab 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab5.html">
 <span class="dropdown-text">Lab 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab6.html">
 <span class="dropdown-text">Lab 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab7.html">
 <span class="dropdown-text">Lab 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="./projA.html">
 <span class="dropdown-text">Project A</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projB.html">
 <span class="dropdown-text">Project B</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-quizzes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Quizzes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-quizzes">    
        <li>
    <a class="dropdown-item" href="./quiz1.html">
 <span class="dropdown-text">Quiz 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./quiz2.html">
 <span class="dropdown-text">Quiz 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/THOMASELOVE/432-sources"> 
<span class="menu-text">Sources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-key-links" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Key Links</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-key-links">    
        <li>
    <a class="dropdown-item" href="https://campuswire.com/">
 <span class="dropdown-text">Campuswire discussion board</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://canvas.case.edu/">
 <span class="dropdown-text">Canvas (submissions &amp; recordings)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drive.google.com/drive/u/1/folders/0AJiAzE5flLrYUk9PVA">
 <span class="dropdown-text">Shared Google Drive</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/THOMASELOVE/432-classes-2025">
 <span class="dropdown-text">Class READMEs (Github)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact Us</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-a-overview" id="toc-project-a-overview" class="nav-link active" data-scroll-target="#project-a-overview">Project A Overview</a>
  <ul class="collapse">
  <li><a href="#use-of-ai" id="toc-use-of-ai" class="nav-link" data-scroll-target="#use-of-ai">Use of AI</a></li>
  <li><a href="#templates" id="toc-templates" class="nav-link" data-scroll-target="#templates">Templates</a></li>
  <li><a href="#working-with-a-partner" id="toc-working-with-a-partner" class="nav-link" data-scroll-target="#working-with-a-partner">Working with a Partner?</a></li>
  <li><a href="#sanity-checks-and-false-starts" id="toc-sanity-checks-and-false-starts" class="nav-link" data-scroll-target="#sanity-checks-and-false-starts">Sanity Checks and False Starts</a></li>
  <li><a href="#demonstration-project" id="toc-demonstration-project" class="nav-link" data-scroll-target="#demonstration-project">Demonstration Project</a></li>
  </ul></li>
  <li><a href="#need-help" id="toc-need-help" class="nav-link" data-scroll-target="#need-help">Need Help?</a></li>
  <li><a href="#choosing-your-data" id="toc-choosing-your-data" class="nav-link" data-scroll-target="#choosing-your-data">Choosing Your Data</a>
  <ul class="collapse">
  <li><a href="#what-makes-a-data-set-acceptable" id="toc-what-makes-a-data-set-acceptable" class="nav-link" data-scroll-target="#what-makes-a-data-set-acceptable">What Makes a Data Set Acceptable?</a>
  <ul class="collapse">
  <li><a href="#no-hierarchical-data" id="toc-no-hierarchical-data" class="nav-link" data-scroll-target="#no-hierarchical-data">No hierarchical data</a></li>
  <li><a href="#joining-multiple-data-sets" id="toc-joining-multiple-data-sets" class="nav-link" data-scroll-target="#joining-multiple-data-sets">Joining multiple data sets</a></li>
  </ul></li>
  <li><a href="#good-data-sets-to-use" id="toc-good-data-sets-to-use" class="nav-link" data-scroll-target="#good-data-sets-to-use">Good Data Sets To Use</a></li>
  <li><a href="#running-a-data-set-past-us-for-project-a" id="toc-running-a-data-set-past-us-for-project-a" class="nav-link" data-scroll-target="#running-a-data-set-past-us-for-project-a">Running a Data Set Past Us for Project A</a></li>
  </ul></li>
  <li><a href="#the-project-a-plan" id="toc-the-project-a-plan" class="nav-link" data-scroll-target="#the-project-a-plan">The Project A Plan</a>
  <ul class="collapse">
  <li><a href="#project-a-plan-contents" id="toc-project-a-plan-contents" class="nav-link" data-scroll-target="#project-a-plan-contents">Project A Plan Contents</a>
  <ul class="collapse">
  <li><a href="#title-and-authors" id="toc-title-and-authors" class="nav-link" data-scroll-target="#title-and-authors">Title and Authors</a></li>
  <li><a href="#r-packages-and-setup" id="toc-r-packages-and-setup" class="nav-link" data-scroll-target="#r-packages-and-setup">R Packages and Setup</a></li>
  <li><a href="#data-source" id="toc-data-source" class="nav-link" data-scroll-target="#data-source">1. Data Source</a></li>
  <li><a href="#the-subjects" id="toc-the-subjects" class="nav-link" data-scroll-target="#the-subjects">2. The Subjects</a></li>
  <li><a href="#loading-and-tidying-the-data" id="toc-loading-and-tidying-the-data" class="nav-link" data-scroll-target="#loading-and-tidying-the-data">3. Loading and Tidying the Data</a></li>
  <li><a href="#the-tidy-tibble" id="toc-the-tidy-tibble" class="nav-link" data-scroll-target="#the-tidy-tibble">4. The Tidy Tibble</a></li>
  <li><a href="#the-code-book" id="toc-the-code-book" class="nav-link" data-scroll-target="#the-code-book">5. The Code Book</a></li>
  <li><a href="#linear-regression-plans" id="toc-linear-regression-plans" class="nav-link" data-scroll-target="#linear-regression-plans">6. Linear Regression Plans</a></li>
  <li><a href="#logistic-regression-plans" id="toc-logistic-regression-plans" class="nav-link" data-scroll-target="#logistic-regression-plans">7 Logistic Regression Plans</a></li>
  <li><a href="#affirmation" id="toc-affirmation" class="nav-link" data-scroll-target="#affirmation">8 Affirmation</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">9 References</a></li>
  <li><a href="#session-information" id="toc-session-information" class="nav-link" data-scroll-target="#session-information">10 Session Information</a></li>
  </ul></li>
  <li><a href="#my-best-piece-of-advice" id="toc-my-best-piece-of-advice" class="nav-link" data-scroll-target="#my-best-piece-of-advice">My Best Piece of Advice</a></li>
  </ul></li>
  <li><a href="#the-project-a-portfolio" id="toc-the-project-a-portfolio" class="nav-link" data-scroll-target="#the-project-a-portfolio">The Project A Portfolio</a>
  <ul class="collapse">
  <li><a href="#changes-from-the-plan-to-the-portfolio" id="toc-changes-from-the-plan-to-the-portfolio" class="nav-link" data-scroll-target="#changes-from-the-plan-to-the-portfolio">Changes from the Plan to the Portfolio</a></li>
  <li><a href="#new-section-8.-linear-regression-analyses" id="toc-new-section-8.-linear-regression-analyses" class="nav-link" data-scroll-target="#new-section-8.-linear-regression-analyses">New Section 8. Linear Regression Analyses</a></li>
  <li><a href="#extra-potential-section-8.9" id="toc-extra-potential-section-8.9" class="nav-link" data-scroll-target="#extra-potential-section-8.9">EXTRA (potential section 8.9)</a></li>
  <li><a href="#new-section-9.-logistic-regression-analyses" id="toc-new-section-9.-logistic-regression-analyses" class="nav-link" data-scroll-target="#new-section-9.-logistic-regression-analyses">New Section 9. Logistic Regression Analyses</a></li>
  <li><a href="#extra-potential-section-9.7" id="toc-extra-potential-section-9.7" class="nav-link" data-scroll-target="#extra-potential-section-9.7">EXTRA (potential section 9.7)</a></li>
  <li><a href="#new-section-10.-discussion" id="toc-new-section-10.-discussion" class="nav-link" data-scroll-target="#new-section-10.-discussion">New Section 10. Discussion</a></li>
  <li><a href="#most-important-piece-of-advice" id="toc-most-important-piece-of-advice" class="nav-link" data-scroll-target="#most-important-piece-of-advice">Most Important Piece of Advice</a></li>
  </ul></li>
  <li><a href="#the-presentation" id="toc-the-presentation" class="nav-link" data-scroll-target="#the-presentation">The Presentation</a>
  <ul class="collapse">
  <li><a href="#your-audience" id="toc-your-audience" class="nav-link" data-scroll-target="#your-audience">Your Audience</a></li>
  <li><a href="#outline-of-the-presentation" id="toc-outline-of-the-presentation" class="nav-link" data-scroll-target="#outline-of-the-presentation">Outline of the Presentation</a></li>
  </ul></li>
  <li><a href="#on-p-values-and-statistical-significance" id="toc-on-p-values-and-statistical-significance" class="nav-link" data-scroll-target="#on-p-values-and-statistical-significance">On P values and “statistical significance”</a></li>
  <li><a href="#on-missing-data" id="toc-on-missing-data" class="nav-link" data-scroll-target="#on-missing-data">On Missing Data</a></li>
  <li><a href="#on-transformations" id="toc-on-transformations" class="nav-link" data-scroll-target="#on-transformations">On Transformations</a>
  <ul class="collapse">
  <li><a href="#using-splines-and-other-complex-predictors" id="toc-using-splines-and-other-complex-predictors" class="nav-link" data-scroll-target="#using-splines-and-other-complex-predictors">Using Splines and other Complex Predictors</a></li>
  <li><a href="#variable-selection" id="toc-variable-selection" class="nav-link" data-scroll-target="#variable-selection">Variable Selection</a></li>
  </ul></li>
  <li><a href="#need-help-1" id="toc-need-help-1" class="nav-link" data-scroll-target="#need-help-1">Need Help?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project A</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2025-02-27</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="project-a-overview" class="level1">
<h1>Project A Overview</h1>
<p>In Project A, you will be analyzing, presenting and discussing a pair of regression models, specifically a linear regression and a logistic regression, describing a data set (available to the public) that you identify.</p>
<p>There are two main deliverables:</p>
<ul>
<li>The Project A Plan, due when the <a href="./calendar.html">Calendar</a> says it is.</li>
<li>The Project A Portfolio and Presentation, due when the <a href="./calendar.html">Calendar</a> indicates.</li>
</ul>
<p>All Project A work is submitted <a href="https://canvas.case.edu/">via Canvas</a>.</p>
<section id="use-of-ai" class="level2">
<h2 class="anchored" data-anchor-id="use-of-ai">Use of AI</h2>
<p>If you decide to use some sort of AI to help you with any part of the Project, we ask that you place a note to that effect, describing what you used and how you used it, as a separate section called “Use of AI”. This should appear just <em>before</em> your section containing the Session Information. Thank you.</p>
</section>
<section id="templates" class="level2">
<h2 class="anchored" data-anchor-id="templates">Templates</h2>
<p>On our <a href="https://github.com/THOMASELOVE/432-data">432-data page</a>, you will find a pair of Quarto templates:</p>
<ul>
<li><a href="https://raw.githubusercontent.com/THOMASELOVE/432-data/refs/heads/master/data/432_projectA_plan_template.qmd">this one is for the Project A Plan</a>, and</li>
<li><a href="https://raw.githubusercontent.com/THOMASELOVE/432-data/refs/heads/master/data/432_projectA_portfolio_template.qmd">this one is for the Project A Portfolio</a>.</li>
</ul>
<p>Please use these templates in preparing your work. They will make completing and grading Project A much easier.</p>
</section>
<section id="working-with-a-partner" class="level2">
<h2 class="anchored" data-anchor-id="working-with-a-partner">Working with a Partner?</h2>
<p>You can choose either to work alone, or with one other person, to complete Project A. If you work in a group for Project A, you may be asked to work alone for Project B later in the term.</p>
<ul>
<li>You will need to identify your Project A partner prior to the submission of your Project A Plan.</li>
<li>If you are working with a partner, all work must be submitted by exactly one of you to <a href="https::/canvas.case.edu">Canvas</a> while the non-reporting partner submits a one-page note to Canvas indicating the members of the partnership and that the partner will submit the work.</li>
</ul>
</section>
<section id="sanity-checks-and-false-starts" class="level2">
<h2 class="anchored" data-anchor-id="sanity-checks-and-false-starts">Sanity Checks and False Starts</h2>
<p>Sanity checks are an important part of your programming, but they don’t belong in your final plan, portfolio or presentation. Neither do false starts, and explorations that don’t lead anywhere.</p>
</section>
<section id="demonstration-project" class="level2">
<h2 class="anchored" data-anchor-id="demonstration-project">Demonstration Project</h2>
<p>A demonstration Project A, built by Professor Love, is <a href="./432_projectA_demo.html">available here</a>, where you can view the HTML and download the Quarto code.</p>
<ul>
<li>Professor Love has posted the .qmd, .html and data files for the Project A demonstration project to our <strong>Shared Google Drive</strong>.</li>
<li>The <a href="https://thomaselove.github.io/432-2025/432_projectA_demo.html">Demonstration for Project A</a> shows the minimum requirements for a low B grade on the project. The main things that are missing in the Demonstration are careful interpretations and explanations of some of the ideas, results and code. You need to include those pieces in order to move from a low B to some sort of A grade.</li>
<li>In addition, the Demonstration does not include the optional extra sections 8.9 and 9.7 described below.</li>
</ul>
</section>
</section>
<section id="need-help" class="level1">
<h1>Need Help?</h1>
<p>Questions about Project A may be directed to the TAs and to Professor Love at any time after the start of the course. If you’re asking a question <a href="https://campuswire.com/">on Campuswire</a>, please use the <code>Project A</code> label, and we encourage you to ask general questions in public rather than privately, so as to get help from other students, and provide help to them.</p>
</section>
<section id="choosing-your-data" class="level1">
<h1>Choosing Your Data</h1>
<section id="what-makes-a-data-set-acceptable" class="level2">
<h2 class="anchored" data-anchor-id="what-makes-a-data-set-acceptable">What Makes a Data Set Acceptable?</h2>
<ol type="1">
<li><strong>Shared with the World</strong>. The data must be available to you, and shared with me and everyone else in the world (without any identifying information) as a well-tidied file by the time you submit your Project A Plan. If the data is from another source, the source (web or other) must be completely identified to me. Ongoing projects that require anyone’s approval to share data are not appropriate for Project A.
<ul>
<li>You should have the data in R by February 1, so that you will have sufficient time to complete the other elements of this Plan. Any data you cannot have by that time is a bad choice.</li>
<li>For Project A, you may not use any data set used in the 431 or 432 teaching materials.</li>
<li>For Project A, do not use data from NHANES or from County Health Rankings.<br>
</li>
<li>You will need to use meaningfully different data sets in 432 Projects A and B.</li>
<li>In submitting your Project A Plan, you will need to be able to write “I am certain that it is completely appropriate for these data to be shared with anyone, without any conditions. There are no concerns about privacy or security.” So be sure that’s true before you pick a data set.</li>
</ul></li>
<li><strong>Size</strong>.
<ul>
<li>A <strong>minimum</strong> of 150 complete observations are required on each variable. It is fine if there are some missing values, as well, so long as there are at least 150 rows with complete observations on all variables you intend to use in each model.</li>
<li>The <strong>maximum</strong> data set size is 2000 observations, so if you have something larger than that, you’ll need to select a random subset of the available information as part of your data tidying process.</li>
</ul></li>
<li><strong>Outcomes</strong>. The columns must include one quantitative outcome and one binary categorical outcome.
<ul>
<li>We prefer distinct outcomes, but if necessary, the binary outcome can be generated from the quantitative outcome (as an example, your quantitative outcome could be resting heart rate in beats per minute, and your binary outcome could be whether the resting heart rate is below 70 beats per minute.)</li>
</ul></li>
<li><strong>Inputs</strong>. You will need at least four regression inputs (predictors) for each of your two models.
<ul>
<li>At least one of the four must be quantitative (a variable is <strong>not</strong> quantitative for this purpose unless it has more than 10 different, ordered, observed values), <em>and</em> at least one must be multi-categorical (with between 3 and 6 categories, each containing a minimum of <strong>30</strong> subjects) for each model.</li>
<li>Your other inputs can represent binary, multi-categorical or quantitative data.</li>
<li>You can examine different candidate predictors for each outcome, or use the same ones in both your linear and logistic regression models.</li>
<li>If you are considering a predictor for either your linear or logistic regression model which has 20% or more missing values among the observations where you have complete data on the relevant outcome, then either (a) look elsewhere for a more informative predictor, or (b) change your sampling strategy to require complete cases on that variable, as well, if possible.<br>
</li>
<li>Depending on your sample size, you can study more than the minimum number of regression inputs. See specifications below for your <a href="#my-planned-predictors-linear-model">linear</a> and <a href="#my-planned-predictors-logistic-model">logistic</a> models.</li>
</ul></li>
</ol>
<p>Your data need not be related to health, or medicine, or biology.</p>
<section id="no-hierarchical-data" class="level3">
<h3 class="anchored" data-anchor-id="no-hierarchical-data">No hierarchical data</h3>
<p>In each project this semester, we will require you to study cross-sectional data, where rows indicate subjects and columns indicate variables gathered to describe those subjects at a particular moment in time or space. Do not use “nested” data in Project A.</p>
<ul>
<li>One example of hierarchical (nested) data would be a model of patient results that contains measures not just for individual patients but also measures for the providers within which patients are grouped, and also for health systems in which providers are grouped. That wouldn’t work for this project.</li>
<li>Another example of hierarchical (nested) data would be a model of individual people’s outcomes where the covariates are gathered at the state or county level, as well as at the level of individuals, and again, that doesn’t work for this project.</li>
<li>The singular exception to the “no hierarchical data” rule is that it will usually be acceptable for all inputs to be collected at a single (baseline) time point and both outcomes to be collected at a single future point in time. For example, you could predict systolic blood pressure in 2022 (or whether or not a subject’s systolic blood pressure in 2022 was below 140), based on a set of input variables (likely including systolic blood pressure) all gathered in 2021.</li>
</ul>
</section>
<section id="joining-multiple-data-sets" class="level3">
<h3 class="anchored" data-anchor-id="joining-multiple-data-sets">Joining multiple data sets</h3>
<p>Dr.&nbsp;Love will be pleased with a data collection effort that <em>appropriately</em> puts together at least two different data bases, should that be appropriate.</p>
<p>What we have in mind are the following scenarios:</p>
<ol type="1">
<li><p>Multiple data sets describing different variables for the same subjects that can be linked, so that you can build a combined data set with the same subjects but pulling together multiple sources of data, as, for example, the County Health Rankings do each year.</p></li>
<li><p>Multiple data sets describing different subjects but the same variables, such as different years of a survey, combining, for instance, multiple iterations of NHANES so as to increase the available sample size.</p></li>
</ol>
<p>If your project research questions and available data lead to one of these approaches, great. If not, don’t force it.</p>
<p>This may require you to learn something about the various joining commands, like <code>left_join</code> and <code>inner_join</code> that are highlighted in the Combine Data Sets section on the <a href="https://rstudio.github.io/cheatsheets/html/data-transformation.html">Data Transformation Cheat Sheet</a> from <a href="https://rstudio.github.io/cheatsheets/">Posit</a>.</p>
<ul>
<li>We heartily recommend Garret Grolemund’s YouTube materials on Data Wrangling, for instance <a href="https://www.youtube.com/watch?v=AuBgYDCg1Cg">this Introduction to Data Manipulation</a> which is about combining multiple data sets.</li>
<li>Another great resource for combining data sets (and most of your other R questions) is the second edition of <a href="https://r4ds.hadley.nz/">R for Data Science</a>, by Wickham and Grolemund.</li>
</ul>
</section>
</section>
<section id="good-data-sets-to-use" class="level2">
<h2 class="anchored" data-anchor-id="good-data-sets-to-use">Good Data Sets To Use</h2>
<p>Some sources of data we’d like to see people use include:</p>
<ol type="1">
<li><a href="https://wonder.cdc.gov/">CDC WONDER</a> data, which could (at the county level) be combined with data from <a href="https://www.countyhealthrankings.org/">County Health Rankings 2022</a> to do something interesting.</li>
<li>The data sets described in the American Statistical Association’s <a href="https://community.amstat.org/dataexpo/events/datachallengeexpo2022">Data Challenge Expo</a> for 2022, which include five very interesting data sets selected from the Urban Institute Data Catalog</li>
<li>A data set from the <a href="https://github.com/rfordatascience/tidytuesday">Tidy Tuesday archive</a> or from the <a href="https://dataset-finder.netlify.app/">Data is Plural archive</a> might be a good candidate.</li>
<li>The <a href="https://hrsdata.isr.umich.edu/data-products/public-survey-data?_ga=2.79574685.849210420.1612760982-241136149.1612760982">Health and Retirement Study</a></li>
<li>The <a href="https://gssdataexplorer.norc.org/">General Social Survey</a> although the problem there is a lack of quantitative variables.</li>
<li>The many many public use data sets available at <a href="https://www.icpsr.umich.edu/icpsrweb/ICPSR/">ICSPR</a></li>
<li>The <a href="https://chronicdata.cdc.gov/browse?category=500+Cities+%26+Places&amp;sortBy=newest&amp;utf8">500 Cities and PLACES data portal</a>, most probably focusing on the <a href="https://chronicdata.cdc.gov/500-Cities-Places/PLACES-Local-Data-for-Better-Health-County-Data-20/swc5-untb">County-level data</a>.</li>
<li><a href="https://www.cdc.gov/nchs/data_access/ftp_data.htm">National Center on Health Statistics</a> which includes NHANES (not a good choice for this project) but also other data sets.</li>
<li><a href="https://www.cdc.gov/brfss/data_documentation/index.htm">Behavioral Risk Factor Surveillance System</a></li>
</ol>
<ul>
<li>For examples of using public microdata from surveys, I recommend the book “<a href="http://asdfree.com/">Analyze Survey Data for Free</a>” which has, for example, information on MEPS, the Health and Retirement Study, the General Social Survey, NHANES, the National Immunization Survey and many others.</li>
<li>While data on COVID-19 would be permitted for 432 projects, most of the available data is longitudinal and thus unsuitable for Project A.</li>
<li>We are not interested in people using NHANES data in Project A, or County Health Rankings data, unless (as indicated above) those County Health Rankings are combined with meaningful additional data sets.</li>
<li><a href="https://www.kaggle.com/datasets">Kaggle Public Datasets</a> may be permitted, but we discourage this. We will only accept those with really useful variables, no hierarchical structure and strong descriptions of how the data were gathered (which is at best 5% of what’s available on Kaggle). Don’t select a Kaggle data set without running it by us on Campuswire (<a href="#running-a-data-set-past-us-for-project-a">see below</a>) to see if we’re willing to let you use it.</li>
<li>You will not be permitted to use data from a textbook or other educational resource for learning statistics, data science or related methods (online or otherwise).
<ul>
<li>Examples of such repositories (that are sadly out-of-bounds for this project and for 432 Project B) include the <a href="https://www.lerner.ccf.org/qhs/datasets/">Cleveland Clinic Statistical Education dataset repository</a>, the <a href="https://hbiostat.org/data/">Vanderbilt University Biostatistics Datasets</a>, or the <a href="https://archive.ics.uci.edu/ml/index.php">UCI Machine Learning Repository</a>.</li>
</ul></li>
<li>It’s not a great idea to type “regression data sets” into Google - rarely does that lead to an interesting project.</li>
</ul>
</section>
<section id="running-a-data-set-past-us-for-project-a" class="level2">
<h2 class="anchored" data-anchor-id="running-a-data-set-past-us-for-project-a">Running a Data Set Past Us for Project A</h2>
<p>To get Professor Love and the TAs to “sign off” on a data set as appropriate for your Project A Plan, you need to tell us the following four things in a (private or public - your choice) note on <a href="https://campuswire.com/">Campuswire</a> in the <code>Project A</code> folder. Please do this if you’re not sure your data set is appropriate.</p>
<ol type="1">
<li>the data source, as <a href="#data-source">described here</a>, along with a URL so we can access the data</li>
<li>a description of who the subjects are and how they were selected, as <a href="#the-subjects">described here</a> - it helps if you also tell us how many subjects are in the data.</li>
<li>what quantitative outcome you plan to use in your linear regression model, including its units of measurement and the minimum, mean and maximum values available in your data</li>
<li>what binary outcome you plan to use in your logistic regression model, specifying both of the mutually exclusive and collectively exhaustive categories and how many subjects fall into each of those two categories.</li>
</ol>
<p>Also, we ask that you not ask us to pick between two “options” - submit the one you’d rather do. If it’s a problem, we’ll let you know, and you can then change to another option if necessary.</p>
</section>
</section>
<section id="the-project-a-plan" class="level1">
<h1>The Project A Plan</h1>
<p>The Project A plan consists of:</p>
<ul>
<li>a Quarto (<code>.qmd</code>) file containing one unnumbered, and 10 numbered sections built using the <a href="#templates">template</a> we have provided.</li>
<li>an HTML result of applying the Quarto “plan” file to your data</li>
<li>a copy of your (tidied) data (see Section 4.3 of the Project A Plan) in an <code>.Rds</code> file.</li>
</ul>
<section id="project-a-plan-contents" class="level2">
<h2 class="anchored" data-anchor-id="project-a-plan-contents">Project A Plan Contents</h2>
<p><strong>Please</strong> use the <a href="#templates">Quarto template</a> we provided for the Project A Plan in preparing your work. The list of HTML “themes” that are available in Quarto by changing the “theme” option in the start of your document <a href="https://quarto.org/docs/output-formats/html-themes.html">can be found here</a> and we encourage you to pick something you think looks nice.</p>
<section id="title-and-authors" class="level3">
<h3 class="anchored" data-anchor-id="title-and-authors">Title and Authors</h3>
<p>Your project should have a meaningful title (not containing the words “432” or “Project” or “Proposal” or “Plan”) but rather something describing your actual data and plans.</p>
<p>Please keep the main title to no more than 80 characters, including spaces. You can add a subtitle if you like, but the main title should stand on its own. Feel free to focus on one of your two research questions (rather than both) if that’s what’s needed to keep to the 80-character limit.</p>
</section>
<section id="r-packages-and-setup" class="level3">
<h3 class="anchored" data-anchor-id="r-packages-and-setup">R Packages and Setup</h3>
<p>You’ll load necessary packages at the start in an unnumbered section of your work, following the <a href="#templates">template</a>.</p>
<ul>
<li>Do not source in an R script or package unless you actually need something it provides.</li>
<li>Do not load core elements of <code>tidyverse</code> or <code>easystats</code> separately. instead just load the meta-packages, and do so last.</li>
<li>Use <code>#| message: false</code> as part of your Quarto code chunk where the packages are listed (as we have done in the <a href="#templates">template</a>) to eliminate HTML messages about when packages were built or how objects were masked.</li>
</ul>
</section>
<section id="data-source" class="level3">
<h3 class="anchored" data-anchor-id="data-source">1. Data Source</h3>
<p>Provide complete information on the source of the data: how did you get it, how was it gathered, by whom, in what setting, for what purpose, and using what sampling strategy.</p>
<p>This small section should include a clear link (with all necessary details) to the URL which we can use to obtain the raw data freely.</p>
</section>
<section id="the-subjects" class="level3">
<h3 class="anchored" data-anchor-id="the-subjects">2. The Subjects</h3>
<p>A description (one or two sentences should be sufficient) of who or what the subjects (rows) are in your data set, and how they were sampled from the population of interest.</p>
</section>
<section id="loading-and-tidying-the-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-and-tidying-the-data">3. Loading and Tidying the Data</h3>
<section id="loading-the-raw-data" class="level4">
<h4 class="anchored" data-anchor-id="loading-the-raw-data">3.1 Loading the Raw Data</h4>
<p>Provide code to ingest the raw data. Ideally, this should use tidyverse-friendly code and a direct link to the URL where the data are housed online.</p>
</section>
<section id="cleaning-the-data-involves-several-subsections" class="level4">
<h4 class="anchored" data-anchor-id="cleaning-the-data-involves-several-subsections">3.2 Cleaning the Data (involves several subsections)</h4>
<p>Tidy and clean up the data to meet all necessary requirements for your modeling work. This will require multiple sub-sections as you tackle different tasks for different sets of variables. Use the tidyverse for data management whenever possible. Some of things you need to do here…</p>
<ul>
<li>Eliminate all variables that are not going to be used (either as identifiers, outcomes or inputs) in your planned analyses.</li>
<li>Change variable names to more meaningful ones, although it’s helpful to keep them at 10 characters or less. Use <code>clean_names()</code> from the <code>janitor</code> package to clean up and standardize the presentation of variable names.</li>
<li>I want to discourage you from using data set names, variable names and especially category level names that are long (more than 8-10 characters) if you can avoid it. You want to be clear, certainly, but long names are (a) harder to type and (b) harder to see in plots and tables.
<ul>
<li>More than 8 characters in a category level’s name will make a lot of plotting very irritating down the line, especially in something like a nomogram or prediction plot.</li>
<li>Don’t use spaces in the names of variables or the names of categories - separate words with underscores.</li>
</ul></li>
<li>Sample the data as needed to ensure that you meet the data set size specifications (no more than 2000 rows, for instance.)</li>
<li>Convert all variables to appropriate types (factors, etc.) as needed, and complete appropriate checks of the values for all variables.
<ul>
<li>Never use 1 and 2 as the levels of a binary variable, like sex = 1 for M and 2 for F, or anything like that. Always use 1 and 0, or actual names like “M” and “F” as the levels.</li>
<li>Be sure that if you have a multi-categorical variable with a natural order of levels (like Low, Medium, High, or Excellent, Very Good, Good, Fair, Poor or Strongly agree, Agree, Neither Agree nor Disagree, Disagree, Strongly Disagree) be sure that the data_codebook() results you show in Section 5 show that order. If you need to fix this, the place to fix it is here in Section 3.</li>
</ul></li>
<li>If you have prospective inputs (predictors) that are multi-categorical with more than 6 categories, collapse them to six or fewer categories in a rational way at this stage.</li>
<li>Ensure that all categorical variables have at least 30 observations at each level, collapsing or removing levels as needed to accomplish this end.</li>
<li>If you are using a cutpoint to split a quantitative measure into categories, be sure to include in the variable description part of Section 5 exactly what that cutoff (or set of cutoffs’) value was (for example, “values above the mean” isn’t sufficient, “values above 45.67 (the mean of the data)” is a sufficient response.)</li>
<li>Your tidied data set should be arranged with a row (subject) identifier at the far left. That identifier should have a unique value for each row, and should be saved as a character variable in R.</li>
<li>We expect your final tibble to have some missing values. Do not impute or delete these, but do be sure they are correctly identified as missing values by R.</li>
<li>Do not list the entire tibble or print out large strands of R output (like summaries of the entire tibble) anywhere in your document, except where you are required by these instructions to do so.</li>
<li>Zap away any variable labels in section 3 using <code>zap_label()</code> from the <strong>haven</strong> package or a similar alternative. I’m not a fan of labels in R data sets for variables, as they make the results of many plots, tables and things like <code>data_codebook()</code> much harder to read.</li>
</ul>
</section>
</section>
<section id="the-tidy-tibble" class="level3">
<h3 class="anchored" data-anchor-id="the-tidy-tibble">4. The Tidy Tibble</h3>
<section id="listing-the-tibble" class="level4">
<h4 class="anchored" data-anchor-id="listing-the-tibble">4.1 Listing the Tibble</h4>
<p>In this section, you should start by listing the tibble you created in Section 3, with all variables correctly imported (via your code) as the types of variables (factor/integer/numeric, etc.) that you need for modeling.</p>
<ul>
<li>This should be a listing, not a glimpse or anything else. Just type in the name of your tibble.</li>
<li>The resulting list should be limited to the first 10 rows of your data.</li>
</ul>
</section>
<section id="size-and-identifiers" class="level4">
<h4 class="anchored" data-anchor-id="size-and-identifiers">4.2 Size and Identifiers</h4>
<p>Write a sentence specifying the number of rows and the number of columns in your tibble, and this should match the R output.</p>
<p>Then identify the name of the variable that provides the identifier for each row in your tidy tibble, and demonstrate that each row has a unique value for that variable, and that the variable is represented as a character in R.</p>
<ul>
<li>One way to do this is to run the <code>n_distinct</code> function from the dplyr package on this particular variable.</li>
<li>Do not present summary or descriptive results on every variable in the whole tibble here - you’ll do that in Section 5.</li>
</ul>
</section>
<section id="save-the-tidied-tibble-as-an-.rds-file" class="level4">
<h4 class="anchored" data-anchor-id="save-the-tidied-tibble-as-an-.rds-file">4.3 Save the tidied Tibble as an .Rds file</h4>
<p>Now, save the tidied data set as an .Rds file (using <code>write_rds</code> or the equivalent), which you’ll need to submit to us. The tibble should have the same name as the data file you submit to <a href="https://canvas.case.edu/">Canvas</a>.</p>
</section>
</section>
<section id="the-code-book" class="level3">
<h3 class="anchored" data-anchor-id="the-code-book">5. The Code Book</h3>
<section id="defining-the-variables" class="level4">
<h4 class="anchored" data-anchor-id="defining-the-variables">5.1 Defining the Variables</h4>
<p>In this section, provide a beautiful codebook which tells us (at a minimum) the following information for each variable in the tibble you printed and saved in Section 4.</p>
<ul>
<li>The name of the variable in your tibble.</li>
<li>The role of the variable in your planned analyses (options include identifier, outcome, or input)</li>
<li>The type of variable for each outcome or input (options are categorical, in which case tell us how many categories, or quantitative)</li>
<li>A short description of the meaning of the variable.
<ul>
<li>This should include the units of measurement if the variable is quantitative, and a list of the possible values if the variable is categorical.</li>
</ul></li>
</ul>
<p>All variables in your tidy data set, and in your codebook in Section 5 should fall into one of four roles. Don’t include other things in your tidy data set. - <strong>identifiers</strong>: variables that identify the subjects in your data, and these should be labeled as <strong>Identifier</strong> in the variable descriptions part of Section 5. - <strong>outcomes</strong> for either of your models, and these should be labeled as <strong>Outcome (linear)</strong> or <strong>Outcome (logistic)</strong> in the variable descriptions part of Section 5. - <strong>predictors</strong> for either of your models, and these should be labeled as either <strong>Predictor</strong> or <strong>Input</strong> in the variable descriptions part of Section 5. - <strong>other</strong> variables that you needed to use to create something in the previous three groups. These should not be labeled as predictors or outcomes in Section 5.</p>
<p>As an example, here’s a part of a simple table:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Role</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>subjectID</code></td>
<td>identifier</td>
<td>-</td>
<td>character code for subjects</td>
</tr>
<tr class="even">
<td><code>sysbp</code></td>
<td>outcome (linear)</td>
<td>quant</td>
<td>Most Recent Systolic Blood Pressure, in mm Hg</td>
</tr>
<tr class="odd">
<td><code>statin</code></td>
<td>input</td>
<td>2-cat</td>
<td>Has a current statin prescription? (Yes or No)</td>
</tr>
</tbody>
</table>
</section>
<section id="numerical-description" class="level4">
<h4 class="anchored" data-anchor-id="numerical-description">5.2 Numerical Description</h4>
<p>Here, run the <code>data_codebook()</code> command on your entire tibble. Be sure that the results match up with what you’ve described in defining the variables, and that the same variables appear, in the same order, in the codebook and in these results.</p>
<p>You are welcome to include other summaries as well, but <code>data_codebook()</code> is required.</p>
</section>
</section>
<section id="linear-regression-plans" class="level3">
<h3 class="anchored" data-anchor-id="linear-regression-plans">6. Linear Regression Plans</h3>
<section id="my-first-research-question" class="level4">
<h4 class="anchored" data-anchor-id="my-first-research-question">6.1 My First Research Question</h4>
<p>Begin this section by specifying a question that you hope to answer with the linear model you are proposing. A research question relates clearly to the data you have and your modeling plans, and, like all questions, it ends with a question mark. Eventually, you will need to answer this question in your portfolio.</p>
<p>Jeff Leek in his book “<a href="https://leanpub.com/modernscientist">How to be a Modern Scientist</a>” has some excellent advice in his section on “How Do You Start a Paper.” In particular, you want to identify research questions that:</p>
<ul>
<li>are concrete, (and for which you can find useful data), and that</li>
<li>solve a real problem, and that</li>
<li>give you an opportunity to do something new,</li>
<li>that you will feel ownership of, and</li>
<li>that you want to work on.</li>
</ul>
<p>We recommend you use the FINER criteria (or, if relevant, the PICOT criteria) to help you refine a vague notion of a research question into something appropriate for this project.</p>
<ul>
<li>FINER = Feasible, Interesting, Novel, Ethical and Relevant.</li>
<li>PICOT is often used in medical studies assessing or evaluating patients and includes Patient (or Problem), Intervention (or Indicator), Comparison group, Outcomes and Time.</li>
</ul>
<p>The <a href="https://en.wikipedia.org/wiki/Research_question">Wikipedia entry on research questions</a> provides some helpful links to these ideas.</p>
</section>
<section id="my-quantitative-outcome" class="level4">
<h4 class="anchored" data-anchor-id="my-quantitative-outcome">6.2 My Quantitative Outcome</h4>
<ul>
<li>If necessary, this section should begin by filtering the data to the observations with complete data on the quantitative outcome (for the linear model.) This might be necessary if some of the rows in your tibble have complete data on one outcome (binary) but not the other (quantitative). Obviously, if your data are already complete on this outcome, there’s no need to re-filter.</li>
</ul>
<p>This subsection tells us what you will use your linear regression model to explain or predict.</p>
<ul>
<li><p>Tell us the name in the tibble of the linear regression outcome you will use (this should the quantitative outcome you identified in your Codebook) and state why you are interested in predicting this variable.</p></li>
<li><p>Provide a count of the number of rows in your data with complete information on this outcome.</p></li>
<li><p>Provide a nicely labeled graphical summary of the distribution of your outcome to supplement the numerical description you provided in Section 5.2.</p></li>
<li><p>Comment briefly on the characteristics of the outcome’s distribution. Is your outcome skewed or symmetric, is it discrete or fairly continuous, is there a natural transformation to consider?</p></li>
<li><p>Demonstrate that the variable you have selected meets the standard for a quantitative variable used in this Project, specifically that it has more than 10 different, ordered, observed values.</p></li>
<li><p>As part of section 6.2, I want to see the following three things for your linear outcome, in each case, restricting the data to the observations with complete data on that outcome.</p>
<ol type="1">
<li>plots - at least a histogram and Normal Q-Q plot of the linear outcome, built using <code>ggplot2</code> and <code>patchwork</code>.</li>
<li>numerical summaries - the results of both <code>describe()</code> (from the <strong>Hmisc</strong> package) and <code>favstats()</code> (from the <strong>mosaic</strong> package) for the linear outcome.</li>
<li>a <code>tabyl()</code> (from the <strong>janitor</strong> package) of the most common values of your outcome, along with the fraction of all cases with complete data on that outcome that have that particular value, so that you can verify that no value occurs in more than 10% of your complete observations.</li>
</ol></li>
</ul>
</section>
<section id="my-planned-predictors-linear-model" class="level4">
<h4 class="anchored" data-anchor-id="my-planned-predictors-linear-model">6.3 My Planned Predictors (Linear Model)</h4>
<p>Now, tell us precisely which four (or more) candidate predictors (inputs) you intend to use for your linear regression model.</p>
<ul>
<li>Please use the variable names that appear in your code book and tibble.</li>
<li>Demonstrate to us that you have at least one input which is quantitative, specifically that it has more than 10 different, ordered, observed values.</li>
<li>Demonstrate to us that you have at least one categorical input which has between 3 and 6 categories, that will be used as a factor in your modeling, and that has at least 30 observations in each level of the factor. If necessary, you can create such a predictor from a quantitative one, but if you are doing this, remember that only the multi-categorical version of the predictor should be included in your models.</li>
<li>Demonstrate that the total number of candidate predictors you suggest is no more than <span class="math inline">\(4 + (N_1 - 100)/100\)</span>, rounding down, where <span class="math inline">\(N_1\)</span> is the number of rows with complete outcome data in your tibble.</li>
</ul>
<p>In section 6.3.1, you should briefly specify your guesses as to the expected direction of relationships between your outcome and your predictors. Use the word <strong>association</strong> instead of <em>correlation</em>, basically always, unless you are referring specifically to a correlation coefficient.</p>
<p>In section 6.3.2, I then want to see a missingness summary including <code>miss_var_summary()</code> and <code>miss_case_table()</code> (from the <strong>naniar</strong> package) across all variables in the codebook that play a role in your planned linear regression model <strong>after</strong> filtering to the cases with complete data on your linear outcome. I’m hoping that you’ll have complete data for all predictors on more than 60% of your observations, and that you won’t be missing more than 20% of any individual predictor.</p>
</section>
</section>
<section id="logistic-regression-plans" class="level3">
<h3 class="anchored" data-anchor-id="logistic-regression-plans">7 Logistic Regression Plans</h3>
<section id="my-second-research-question" class="level4">
<h4 class="anchored" data-anchor-id="my-second-research-question">7.1 My Second Research Question</h4>
<p>Begin this section by specifying a question that you hope to answer with the logistic model you are proposing. A research question relates clearly to the data you have and your modeling plans, and, like all questions, it ends with a question mark. Eventually, you will need to answer this question in your portfolio.</p>
<p>See section 6.1 for some more suggestions about improving your research questions.</p>
</section>
<section id="my-binary-outcome" class="level4">
<h4 class="anchored" data-anchor-id="my-binary-outcome">7.2 My Binary Outcome</h4>
<p>This subsection should begin by filtering the data to the observations with complete data on the binary outcome (for the logistic model.) This might be necessary if some of the rows in your tibble have complete data on one outcome (quantitative) but not the other (binary). Obviously, if your data are already complete on this outcome, there’s no need to re-filter.</p>
<p>This subsection tells us what you will use your logistic regression model to explain or predict.</p>
<ul>
<li>Tell us the name in the tibble of the logistic regression outcome you will use (this should be the binary (2-category) outcome you identified in your codebook) and state why you are interested in predicting this variable.</li>
<li>If your logistic regression outcome cannot be expressed in the form of a yes/no question, coded as 1 = yes and 0 = no, and if the name of that variable doesn’t tell us what 1 means, then adjust your setup accordingly until this is true.
<ul>
<li>For example, don’t use “Active / Inactive” for a <code>status</code> variable, instead use <code>active</code> = 1 or 0 for the same information.</li>
<li>This is because if you use a factor in R for your outcome, the logistic regression model will not necessarily choose the result (Yes instead of No, 1 instead of 0) that you’re looking for unless you actually use 0 and 1 or No and Yes for the levels, and 0 and 1 have fewer characters.</li>
<li>If your outcome was “High / Low” it will choose Low because it is the second one alphabetically!</li>
<li>Also, if you use 1 and 0 as your levels, the prediction process I have described in slide set 8 and in the support1000 example will work, every time. If you do something else, it might not.</li>
</ul></li>
<li>As part of section 7.2, I want to see a a <code>tabyl()</code> (again from the <strong>janitor</strong> package) of the values of your binary outcome, after restricting the data to the observations with complete data on your primary outcome. This will provide a count of the number of rows in your data with each of the two possible values of this outcome.</li>
</ul>
</section>
<section id="my-planned-predictors-logistic-model" class="level4">
<h4 class="anchored" data-anchor-id="my-planned-predictors-logistic-model">7.3 My Planned Predictors (Logistic Model)</h4>
<p>Now, tell us precisely which four (or more) candidate predictors you intend to use for your logistic regression model.</p>
<ul>
<li>If you are using some of the same predictors as in your linear regression model, there’s no need to repeat yourself. Simply tell us which variables you’ll use again, and then provide descriptions for any new predictors that did not appear in your plans for the linear model.</li>
<li>Demonstrate that the total number of candidate predictors you suggest for your logistic regression model is no more than <span class="math inline">\(4 + (N_2 - 100)/100\)</span> predictors, rounded down, where <span class="math inline">\(N_2\)</span> is the number of subjects in the <strong>smaller</strong> of your two outcome groups.</li>
</ul>
<p>In section 7.3.1, you should briefly specify your guesses as to the expected direction of relationships between your outcome and your predictors. Use the word <strong>association</strong> instead of <em>correlation</em>, basically always, unless you are referring specifically to a correlation coefficient.</p>
<p>In a new section 7.3.2, I want to see a missingness summary including <code>miss_var_summary()</code> and <code>miss_case_table()</code> (from the <strong>naniar</strong> package) across all variables in the codebook that play a role in your planned logistic regression model <strong>after</strong> filtering to the cases with complete data on your binary outcome. I’m hoping that you’ll have complete data for all predictors on more than 60% of your observations, and that you won’t be missing more than 20% of any individual predictor.</p>
</section>
</section>
<section id="affirmation" class="level3">
<h3 class="anchored" data-anchor-id="affirmation">8 Affirmation</h3>
<p>Next you need to affirm that the data set meets all of the project requirements, especially that the data can be shared freely over the internet, and that there is no protected information of any kind involved.</p>
<p>The text we want to see here is</p>
<blockquote class="blockquote">
<p>I am certain that it is completely appropriate for these data to be shared with anyone, without any conditions. There are no concerns about privacy or security.</p>
</blockquote>
<p>If you are unsure as to whether this is true, select a different data set.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">9 References</h3>
<p>References (you’ll need one to describe the source of your data, at least) go here.</p>
</section>
<section id="session-information" class="level3">
<h3 class="anchored" data-anchor-id="session-information">10 Session Information</h3>
<p>Please provide session information by running <code>xfun::session_info()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>xfun<span class="sc">::</span><span class="fu">session_info</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64
Running under: Windows 11 x64 (build 26100)

Locale:
  LC_COLLATE=English_United States.utf8 
  LC_CTYPE=English_United States.utf8   
  LC_MONETARY=English_United States.utf8
  LC_NUMERIC=C                          
  LC_TIME=English_United States.utf8    

Package version:
  base64enc_0.1.3   bslib_0.9.0       cachem_1.1.0      cli_3.6.4        
  compiler_4.4.2    digest_0.6.37     evaluate_1.0.3    fastmap_1.2.0    
  fontawesome_0.5.3 fs_1.6.5          glue_1.8.0        graphics_4.4.2   
  grDevices_4.4.2   highr_0.11        htmltools_0.5.8.1 htmlwidgets_1.6.4
  jquerylib_0.1.4   jsonlite_1.9.0    knitr_1.49        lifecycle_1.0.4  
  memoise_2.0.1     methods_4.4.2     mime_0.12         R6_2.6.1         
  rappdirs_0.3.3    rlang_1.1.5       rmarkdown_2.29    rstudioapi_0.17.1
  sass_0.4.9        stats_4.4.2       tinytex_0.55      tools_4.4.2      
  utils_4.4.2       xfun_0.51         yaml_2.3.10      </code></pre>
</div>
</div>
</section>
</section>
<section id="my-best-piece-of-advice" class="level2">
<h2 class="anchored" data-anchor-id="my-best-piece-of-advice">My Best Piece of Advice</h2>
<p>Review your HTML output file carefully before submission for copy-editing issues (spelling, grammar and syntax.) Even with spell-check in RStudio (just hit F7), it’s hard to find errors with these issues in your Quarto file so long as it is running. You really need to look at the resulting HTML output, closely.</p>
</section>
</section>
<section id="the-project-a-portfolio" class="level1">
<h1>The Project A Portfolio</h1>
<p>The Project A portfolio consists of:</p>
<ul>
<li>a Quarto (<code>.qmd</code>) file containing containing one unnumbered, and 13 numbered sections (10 of which come from the Plan) built using <a href="#templates">the template</a> for the portfolio that we have provided for you</li>
<li>an HTML result of applying the Quarto “portfolio” file to your data</li>
<li>a copy of your tidied data (as an <code>.Rds</code> file) and link to where Professor Love can obtain the raw data you started with freely,</li>
<li>a video file (not to exceed 4 minutes) presenting <strong>one</strong> of your key project results (see the Presentation materials below)</li>
</ul>
<section id="changes-from-the-plan-to-the-portfolio" class="level3">
<h3 class="anchored" data-anchor-id="changes-from-the-plan-to-the-portfolio">Changes from the Plan to the Portfolio</h3>
<p><strong>Please</strong> use the <a href="#templates">Quarto template</a> we provided for the Project A Portfolio in preparing your work.</p>
<p>The portfolio submission for Project A consists of 13 sections, 10 of which come straight from the Project A Plan. Specifically,</p>
<ul>
<li>Everything through Section 7 of the Portfolio is essentially the same as what you prepared for the Plan.
<ul>
<li>You should nail down any details that were not yet specified in your accepted Plan.</li>
<li>Sections 6-7, in particular, should now be adjusted as necessary to reflect the actual analyses you wound up doing, and if you had to do some additional cleaning or create new variables, those elements should be developed in sections 3-5.</li>
</ul></li>
<li>A new Section 8 should be labeled “Linear Regression Analyses” and is dedicated to that work.</li>
<li>A new Section 9 should be labeled “Logistic Regression Analyses” and is dedicated to that work.</li>
<li>A new Section 10 should be labeled “Discussion” and is a roughly 200 word discussion of your thoughts on the process of producing this project.</li>
<li>Sections 8-10 in the Plan become Sections 11-13 in the Portfolio, without substantial change from your accepted Project A Plan.
<ul>
<li>Section 11 is now the Affirmation, Section 12 becomes the References section, and Section 13 gives the Session Information.</li>
</ul></li>
</ul>
</section>
<section id="new-section-8.-linear-regression-analyses" class="level3">
<h3 class="anchored" data-anchor-id="new-section-8.-linear-regression-analyses">New Section 8. Linear Regression Analyses</h3>
<p>In Section 8, we expect you to present all relevant code used to produce your final results. No output should be presented in this section (or in Section 9) without commentary. This should describe the fitting and evaluation of two models: a “main effects” model (model A), and an “augmented” model (model B). We’re primarily interested in a clear presentation. The following eight elements should be presented, in properly labeled subsections of section 8, using the labels in bold below.</p>
<ol type="1">
<li><strong>Missingness</strong> your approach to dealing with missing data, if applicable
<ul>
<li>we prefer imputation (simple or multiple) to complete case analysis</li>
<li>if you have a sample with no missing data, specify that (again) here</li>
</ul></li>
<li><strong>Outcome Transformation</strong> your approach to transforming the outcome variable, including an appropriate Box-Cox assessment</li>
<li><strong>Scatterplot Matrix and Collinearity</strong> a scatterplot matrix including the (possibly transformed) outcome and all predictors that make it into your “main effects” model
<ul>
<li>be sure to evaluate collinearity between predictors, either through perusing and discussing the correlations in the scatterplot matrix, or with variance inflation factors</li>
</ul></li>
<li><strong>Model A</strong>: your initial “main effects” model
<ul>
<li>remember that your model must include at least four predictors, of which at least one must be quantitative and one must be multi-categorical</li>
<li>we discourage the use of stepwise, best subsets, or other semi-automated model selection strategies, instead please use your problem-based understanding to select variables and use them all.</li>
<li>in presenting your main effects model you should show:
<ul>
<li>a tidied table of regression coefficients</li>
<li>key fit summary statistics like R-square, AIC and BIC, and</li>
<li>the four key diagnostic plots of residuals, with an appropriate interpretation of what you see</li>
</ul></li>
</ul></li>
<li><strong>Non-Linearity</strong> your process for making decisions about how to capture potential non-linearity
<ul>
<li>what did the Spearman <span class="math inline">\(\rho^2\)</span> plot suggest and how did you spend your degrees of freedom?
<ul>
<li>If the (apparently strongest - furthest to the right) predictor in the <span class="math inline">\(\rho^2\)</span> plot is quantitative, you should be thinking first about a restricted cubic spline with 4 or 5 knots,</li>
<li>If the largest <span class="math inline">\(\rho^2\)</span> is associated with a binary or a multi-categorical predictor, create an interaction term with the second-largest <span class="math inline">\(\rho^2\)</span> predictor.</li>
<li>If you still have degrees of freedom you’re willing to spend after this, proceed down to the second largest predictor in terms of <span class="math inline">\(\rho^2\)</span>, and proceed similarly to the third largest after that.</li>
</ul></li>
<li>Regardless of your sample size, please use about 6 additional degrees of freedom beyond the main effects model to account for non-linearity, and add at most 3 non-linear terms to your model.</li>
</ul></li>
<li><strong>Model B</strong>: fitting your “augmented model” incorporating non-linear terms
<ul>
<li>unless you’re doing multiple imputation you’ll want to be sure you demonstrate that you can fit this using either <code>ols</code> or <code>lm</code>, since you might need either approach for a complete assessment of the model (if you’re doing multiple imputation, you can stick with <code>ols</code>)</li>
<li>you’ll need to present a plot of the effects from <code>plot(summary(modelname))</code> for this augmented model, using <code>ols</code></li>
<li>you’ll also need to present the residual plots for the model you’ve fit, which is easiest to do if you fit the model with <code>lm</code>. If you’ve used multiple imputation, prepare a residuals vs.&nbsp;fitted values plot and evaluate it using <code>ols</code>.</li>
</ul></li>
<li><strong>Validating the Models</strong> the results of a validation comparison of the “augmented model” B to the “main effects” model A which should help you select a “final model” from the two possibilities. You should produce validated <span class="math inline">\(R^2\)</span> statistics for Models A and B within <code>ols</code> through the <code>validate</code> function. In addition, you might consider
<ul>
<li>an initial partition into training and test samples,</li>
<li>or a k-fold cross-validation strategy, should you deem that useful.</li>
</ul></li>
<li><strong>Final Model</strong> This section should end with a clear statement of the model you prefer (the “main effects model A” or the “augmented model B”) based on your overall assessment of fit quality, adherence to assumptions as seen in residuals, and whether adding the terms in the augmented model yields an improvement that is worth the complication of adding the non-linear terms. No output should be provided in this section without text annotation and commentary to clarify your results.
<ul>
<li>You should land on a single, final model, using both statistical and non-statistical considerations to make a decision between model A and model B.</li>
<li>An appropriate summary of the final model you landed on should start with a listing of the model parameters for a model fit to the entire data set (after imputation as needed) with appropriate confidence intervals, and a table or (better) plot of the effect sizes.</li>
<li>Specify the effect sizes for all elements of your final model numerically (with both a point estimate and a confidence interval), and graphically (with a plot of those effects (probably through <code>plot(summary(yourmodel)</code>).</li>
<li>Then write a detailed and correct description of the effect of <strong>at least one</strong> predictor on your outcome for your linear regression model, providing all necessary elements of such a description, and link this directly to what the plot is telling you.</li>
<li>We prefer you discuss a scientifically meaningful effect, should one exist. Pick an effect to describe that is interesting to you.</li>
<li>You should display an appropriate (corrected through validation) estimate of R-square for your final model</li>
<li>The final part of your summary of the final model should be a nomogram with a demonstration of a prediction (and appropriate prediction interval) for a new subject of interest.</li>
<li>Your prediction (and its prediction interval) should be back transformed to the original scale of your outcome, if you transformed your outcome before building your model.</li>
</ul></li>
</ol>
</section>
<section id="extra-potential-section-8.9" class="level3">
<h3 class="anchored" data-anchor-id="extra-potential-section-8.9">EXTRA (potential section 8.9)</h3>
<p>Completing all of what is listed above for Section 8 appropriately is the best way to receive an excellent grade on Project A. The <a href="https://thomaselove.github.io/432-2025/projA.html#demonstration-project">Project A demonstration project</a> provides R code to help illustrate how you can accomplish those tasks.</p>
<p>Some of you may be eager to show some <em>additional</em> analytic facility. If you have successfully done <strong>all</strong> of the things provided in Section 8 (specifically subsections 8.1 - 8.8) of the <a href="https://thomaselove.github.io/432-2025/projA.html#demonstration-project">Project A demonstration project</a>, and still want to do more, choose between the following two options and create a new section 8.9, as indicated.</p>
<p>Three key points to make at the start about this extra work…</p>
<ul>
<li>If you have meaningful problems in sections 8.1 - 8.8, I won’t even look at your section 8.9.</li>
<li>Although section 8.9 can only help your grade, this is completely optional, and is not required to get an A grade on the Project.</li>
<li>You may choose <strong>exactly one</strong> of the two options below. Do not present both, or I will ignore both.</li>
</ul>
<p>Your choices (1 and 2) for section 8.9 of your portfolio are as follows…</p>
<ol type="1">
<li><strong>If</strong> in your linear regression you have <strong>more than 5% of cases</strong> with missing data in your predictors, create a new section 8.9 called “Comparing Imputation Strategies”, where you show the simple imputation model, and then either:
<ul>
<li>fit an appropriate model using multiple imputation (with an appropriate number of imputations) and the <strong>mice</strong> package, then compare the coefficients and R-square values between the single imputation fit and the multiple imputation fit, <strong>or</strong></li>
<li>use the <code>aregImpute()</code> function to fit an appropriate multiply imputed set of results, then compare the coefficients and R-square values between the single imputation fit and the multiple imputation fit.</li>
</ul></li>
<li>After your linear regression modeling, create a new section 8.9 called “A New Model C” where you do the following:
<ul>
<li>use the best subsets approach to identify another possible model (besides Model A and Model B) using a subset of your predictors, which you’ll call Model C, then</li>
<li>show a plot of the posterior predictive check for your new model C, and compare it to your previous models A and B, then</li>
<li>compare all three of those models using a plot which compares performance on common metrics (root mean squared error, AIC, BIC, multiple R-square and adjusted R-square) across your sample, and interpret the results, then finally</li>
<li>perform 5-fold cross-validation for each of your models to compare R-square and the square root of the mean squared error, and interpret those results.</li>
</ul></li>
</ol>
</section>
<section id="new-section-9.-logistic-regression-analyses" class="level3">
<h3 class="anchored" data-anchor-id="new-section-9.-logistic-regression-analyses">New Section 9. Logistic Regression Analyses</h3>
<p>In Section 9, we expect you to present all relevant code used to produce your final results. As in Section 8, no output should be presented in this section without commentary. Also as in Section 8, this section will describe the fitting and evaluation of two models: a “main effects” model (model Y), and an “augmented” model (model Z). We’re primarily interested in a clear presentation. The following 6 elements should be presented, in properly labeled subsections of section 9, using the labels in bold below.</p>
<ol type="1">
<li><strong>Missingness</strong> your approach to dealing with missing data, if applicable
<ul>
<li>we prefer imputation (simple or multiple) to complete case analysis, but it’s not mandatory</li>
<li>if you have a sample with no missing data, specify that (again) here</li>
<li>you can use the same approach as in Section 8, or a different one, if you prefer</li>
</ul></li>
<li><strong>Model Y</strong>: your initial “main effects” model
<ul>
<li>remember that your model must include at least four predictors, of which at least one must be quantitative and one must be multi-categorical.</li>
<li>we discourage the use of stepwise or other model selection strategies here, instead please use your problem-based understanding to select variables and use them all.</li>
<li>in presenting your main effects model you should show:
<ul>
<li>a tidied table of regression coefficients</li>
<li>a plot of the effects (on the odds ratio scale) for the model using <code>plot(summary(modelname))</code> from the <code>lrm</code> fit.</li>
<li>key fit summary statistics (Nagelkerke R-square and the area under the ROC curve) as they are presented in the <code>lrm</code> output</li>
<li>a confusion matrix based on an explicitly specified prediction rule (perhaps <code>.fitted</code> &gt;= 0.5, but something else if you prefer) and you’ll need to specify the specificity, sensitivity and positive predictive value for this model.</li>
</ul></li>
</ul></li>
<li><strong>Non-Linearity</strong> your process for making decisions about how to capture potential non-linearity
<ul>
<li>what did the Spearman rho-squared plot suggest and how did you spend your degrees of freedom
<ul>
<li>If the (apparently strongest - furthest to the right) predictor in the rho-square plot is quantitative, you should be thinking first about a restricted cubic spline with 4 knots, maybe 5,</li>
<li>If the largest rho-square is associated with a binary or a multi-categorical predictor, create an interaction term with the second-largest rho-squared predictor.</li>
<li>If you still have degrees of freedom you’re willing to spend after this, proceed down to the second largest predictor in terms of rho-squared, and proceed similarly to the third largest after that.</li>
</ul></li>
<li>Regardless of your sample size, please use between 3 and 6 additional degrees of freedom beyond the main effects model to account for non-linearity, and add no more than 3 non-linear terms to your model.</li>
</ul></li>
<li><strong>Model Z</strong>: fitting your “augmented model” incorporating non-linear terms
<ul>
<li>most of you will choose to use <code>lrm</code> to do most of this work, I’d expect, and that’s fine, but you’ll want to fit the model with <code>glm</code>, too, to help with building the confusion matrix.</li>
<li>you’ll need at a minimum to present a plot of the effects from <code>plot(summary(modelname))</code> for this augmented model, using <code>lrm</code>.</li>
<li>you’ll also need to show the Nagelkerke R-square and C statistic from the <code>lrm</code> output.</li>
<li>again, we’ll want you to produce an appropriate confusion matrix using the same prediction rule that you used in Model Y, and you’ll need to provide the specificity, sensitivity and PPV for Model Z using that prediction rule.</li>
</ul></li>
<li><strong>Validating the Models</strong> the results of a validation comparison of the Nagelkerke R-square and the C statistic for the “augmented model” Z to the “main effects” model Y through the <code>validate</code> function in <code>lrm</code> fits.</li>
<li><strong>Final Model</strong> This section should end with a clear statement of the model you prefer (the “main effects” model Y or the “augmented” model Z) based on your overall assessment of fit quality, and whether adding the terms in the augmented model yields an improvement that is worth the complication of adding the non-linear terms.
<ul>
<li>You should land on a single, final model, using both statistical and non-statistical considerations to make a decision between models Y and Z.</li>
<li>An appropriate summary of the final model you landed on should start with a listing of the model parameters for a model fit to the entire data set (after imputation as needed) in terms of odds ratios, with appropriate confidence intervals, and a table or (better) plot of the effect sizes.
<ul>
<li>Specify the effect sizes for all elements of your final model numerically (with both an odds ratio point estimate and a confidence interval), and graphically (with a plot of those effects (probably through <code>plot(summary(yourmodel)</code>), properly interpreted.</li>
<li>Then write a detailed and correct description of the effect of <strong>at least one</strong> predictor on your outcome for your chosen logistic regression model, providing all necessary elements of such a description, and link this directly to what the plot is telling you.</li>
<li>We prefer you discuss a meaningful effect, should one exist. Pick an effect to describe that is interesting to you.</li>
</ul></li>
<li>Next, you should display an appropriate (corrected through validation) estimate of Nagelkerke R-square and the C statistic for your final model, using the entire data set.</li>
<li>The final part of your summary of the final model should be a nomogram with a demonstration of a predicted probability associated with two new subjects of interest that differ in terms of some of the parameters in your model.
<ul>
<li>Your predictions in Section 9 should describe two different subjects. You don’t have to call them Harry and Sally, but it is helpful to give them actual names.</li>
</ul></li>
</ul></li>
</ol>
</section>
<section id="extra-potential-section-9.7" class="level3">
<h3 class="anchored" data-anchor-id="extra-potential-section-9.7">EXTRA (potential section 9.7)</h3>
<p>Completing all of what is listed above for Section 9 appropriately is the best way to receive an excellent grade on Project A. The <a href="https://thomaselove.github.io/432-2025/projA.html#demonstration-project">Project A demonstration project</a> provides R code to help illustrate how you can accomplish those tasks.</p>
<p>Some of you may be eager to show some <em>additional</em> analytic facility. If you have successfully done <strong>all</strong> of the things provided in Section 9 (specifically subsections 9.1 - 9.6) of the <a href="https://thomaselove.github.io/432-2025/projA.html#demonstration-project">Project A demonstration project</a>, and still want to do more, choose between the following two options and create a new section 9.7, as indicated. You are permitted to include both a section 8.9 and 9.7 in your Project Portfolio.</p>
<p>Three key points to make at the start about this extra work…</p>
<ul>
<li>If you have meaningful problems in sections 9.1 - 9.6, I won’t even look at your section 9.7.</li>
<li>Although section 9.7 can only help your grade, this is completely optional, and is not required to get an A grade on the Project.</li>
<li>You may choose <strong>exactly one</strong> of the two options below. Do not present both, or I will ignore both.</li>
</ul>
<p>Your choices (1 and 2) for section 9.7 of your portfolio are as follows…</p>
<ol type="1">
<li><strong>If</strong> in your logistic regression you have <strong>more than 5% of cases</strong> with missing data in your predictors, create a new section 9.7 called “Comparing Imputation Strategies”, where you show the simple imputation model, and then either:
<ul>
<li>fit an appropriate model using multiple imputation (with an appropriate number of imputations) and the <strong>mice</strong> package, and compare the coefficients (expressed as odds ratios) and the C statistic values between the single imputation fit and the multiple imputation fit, <strong>or</strong></li>
<li>use the <code>aregImpute()</code> function to fit an appropriate multiply imputed set of results, then compare the coefficients and C statistic values between the single imputation fit and the multiple imputation fit.</li>
</ul></li>
<li>After your logistic regression modeling, create a new section 9.7 called “A New Model X” where you do the following:
<ul>
<li>use the best subsets approach to identify another possible model (besides Model Y and Model Z) using a subset of your predictors, which you’ll call Model X, then</li>
<li>show a plot of the posterior predictive check for your new model X, and compare it to your previous models Y and Z, then</li>
<li>compare all three of those models using a plot which compares performance on common metrics (root mean squared error, AIC, BIC and Tjur’s R-squared) across your sample, and interpret the result, then finally</li>
<li>perform 5-fold cross-validation for each of your models to compare C statistics, and interpret the results.</li>
</ul></li>
</ol>
</section>
<section id="new-section-10.-discussion" class="level3">
<h3 class="anchored" data-anchor-id="new-section-10.-discussion">New Section 10. Discussion</h3>
<p>Begin the discussion section by clearly stating the two questions you posed at the start of Sections 6 and 7, and then answering them based on the results of your modeling in Sections 8 and 9.</p>
<p>Next, provide a short (somewhere in the neighborhood of 200 words) discussion of your thoughts on the entire Project A process. Be sure that your response here explicitly addresses at least two of the following four questions:</p>
<ul>
<li>What was substantially harder or easier than you expected, and why?</li>
<li>What do you wish you’d known at the start of this process that you know now, and why?</li>
<li>What was the most confusing part of doing the project, and how did you get past it?</li>
<li>What was the most useful thing you learned while doing the project, and why?</li>
</ul>
<p>Write the Discussion section using complete English sentences and paragraphs, not bullet points.</p>
</section>
<section id="most-important-piece-of-advice" class="level2">
<h2 class="anchored" data-anchor-id="most-important-piece-of-advice">Most Important Piece of Advice</h2>
<p>As mentioned above, it is crucial to review your HTML output file carefully before submission for copy-editing issues (spelling, grammar and syntax.) Even with spell-check in RStudio (just hit F7), it’s hard to find errors with these issues in your Quarto file so long as it is running. You really need to look at the resulting HTML output, closely.</p>
</section>
</section>
<section id="the-presentation" class="level1">
<h1>The Presentation</h1>
<p>You (with your partner, if you have one) will build and record a single slide presentation (not to exceed <strong>four</strong> minutes) of what you feel is <strong>the single most</strong> important finding from your Project A.</p>
<ul>
<li>If you have a partner, you should record a single presentation with both of your voices included for about an equal amount of time, and the total time should not exceed <strong>four</strong> minutes.</li>
</ul>
<section id="your-audience" class="level2">
<h2 class="anchored" data-anchor-id="your-audience">Your Audience</h2>
<p>Your audience for this presentation includes Professor Love, the TAs and your fellow students. Prepare your presentation with that audience in mind. What will they need to know to understand what you’ve done, and get excited about it?</p>
</section>
<section id="outline-of-the-presentation" class="level2">
<h2 class="anchored" data-anchor-id="outline-of-the-presentation">Outline of the Presentation</h2>
<p>Your presentation should include fewer than 10 slides, since you only have <strong>four</strong> minutes.</p>
<p>Your “most important finding” is just going to be one of many potentially interesting findings in your Project. Your job in the presentation is <strong>not</strong> to prove to me that you did a lot of work - I’ll see that in the portfolio.</p>
<p>Instead, your job in the presentation is to interest your audience in something you found that is (at least relatively) important. You are expected to help us understand the following things related to your most important finding, based on either a linear or logistic model.</p>
<p>You will not be developing any new material for the slides (just restating and rearranging things you’ve already done and perhaps constructing a short narrative to help us retain your key findings) once you have the portfolio. As a result, we encourage you to complete the portfolio first.</p>
<p>We suggest you develop about 8 slides. This should include…</p>
<ol type="1">
<li>A title slide</li>
<li>A couple of slides to describe the Subjects, Outcome and Predictors
<ul>
<li>Make sure we understand who the subjects are, how they were selected, what the outcome is and why we should care about it, and what predictors are involved in the model you’ll show.</li>
</ul></li>
<li>Several slides showing meaningful statistical findings (What should we learn from your model?)
<ul>
<li>What does the model (don’t show us details of multiple models in the presentation) say about the relationship between the outcome and the predictors?</li>
<li>You’re only showing us one model (of models A, B, Y and Z) in the presentation.</li>
<li>How well does this model fit the data you have, and how well might it fit in new data?</li>
</ul></li>
<li>A couple of slides discussing next steps
<ul>
<li>It is unlikely that you’ll have a model that is truly satisfactory all on its own, so what could be done to improve it that you cannot already do with the data you have? What other data could be collected, how could the measures be refined, could you design a study to get to a more convincing answer?</li>
</ul></li>
</ol>
<p>Make sure that you introduce yourself when you start to speak, over your title slide if you are working alone. We’re happy to see your face during the presentation, but this isn’t mandatory. If you are working with a partner, each of you should introduce yourself at the beginning, and let me know who’s speaking first.</p>
<p>(Essentially) <strong>every word and every image/table/chart</strong> in your slides can and should come directly from the materials contained in your HTML portfolio.</p>
<ul>
<li>The development of the presentation is mostly about selecting useful information to present and then arranging it in a way that sticks for your audience.</li>
<li>Your presentation should include no R code but instead will provide nicely formatted figures and tables along with text. Some figures don’t work well on slides, like nomograms, without a lot of work. Pick something that is both useful and easy to see.</li>
<li>Each slide should have a title, indicating the message you want us to get from the slide (don’t use generic titles like “Results” or “Table 1”).</li>
<li>You’ll have to cut out around 95% of your portfolio to create your slides, and you should follow your instincts regarding your audience (Professor Love, the TAs and your fellow students are your audience.)</li>
<li>Developing the presentation is where <strong>you</strong> have to make decisions about what’s most important to show an audience to get them interested in your work. That’s a critically important skill.</li>
</ul>
</section>
</section>
<section id="on-p-values-and-statistical-significance" class="level1">
<h1>On P values and “statistical significance”</h1>
<p>You are welcome to include p values in your analyses in either the portfolio or the presentation, but you should demonstrate good statistical practice by not comparing them to <span class="math inline">\(\alpha\)</span> levels to declare things to be important, meaningful, or significant.</p>
<p><strong>You should not use the words “statistically significant” or any synonyms (like statistically detectable) in any of your Plan or Portfolio materials nor in your presentation.</strong></p>
</section>
<section id="on-missing-data" class="level1">
<h1>On Missing Data</h1>
<p>For Project A, we generally regard the use of imputation as:</p>
<ul>
<li><strong>essential</strong> if you have missing predictor values for more than 10% of your subjects, <em>and</em> more than 50 subjects</li>
<li><strong>unnecessary</strong> if you have missing predictor values for less than 1% of your subjects, <em>and</em> fewer than 10 subjects</li>
<li>probably worth doing if your data don’t meet either of those standards</li>
</ul>
<p>It is <strong>very</strong> important to us that people use imputation in their Project A if that is appropriate. It is <strong>not at all</strong> important to us whether people choose single imputation or multiple imputation for that task in Project A.</p>
<p>The five key questions we’ll be asking ourselves when evaluating your Project A regarding how you deal with missing data are:</p>
<ol type="1">
<li>For Project A, we encourage you to exclude subjects with missing outcome data, and to do this separately for your linear modeling and your logistic modeling, all working off the same initial data, but with different “cuts”. Have you successfully done this, so that each model is fit with as much data as are available?</li>
<li>Now that you’ve removed the missing outcomes, do you have a very small number and proportion of subjects with missing predictors for the models you’re fitting, so that simply dropping cases with missing data is not a substantial concern?
<ul>
<li>For example, suppose your study has 1000 observations with complete data on your outcome, and 990 of those (or 99%) have complete data on all predictors. So you have 10 observations with missing data, and that’s 1% of your total observations. If you are willing to assume MAR, whether you do complete cases, single imputation or multiple imputation, you’ll get very similar results.</li>
</ul></li>
<li>What are you assuming about the missing data mechanism and why is that assumption reasonable?
<ul>
<li>You’re all going to wind up assuming either MCAR (in which case a complete cases analysis is appropriate) or MAR (in which case single or multiple imputation is required). You should be providing an argument for your choice (which includes why MNAR isn’t the most suitable assumption.)</li>
</ul></li>
<li>Does your code (complete cases, single imputation or multiple imputation) work to produce the results you need?</li>
<li>Can you interpret the coefficients produced by your model appropriately?</li>
</ol>
<p>You’ve probably figured out already that questions 4-5 are the most important ones.</p>
</section>
<section id="on-transformations" class="level1">
<h1>On Transformations</h1>
<p>In Project A, restrict yourself to understandable outcome transformations, and don’t be a slave to the Box-Cox approach, which after all is only designed to help with some very particular issues. The reasonable transformations to consider are <span class="math inline">\(1/y\)</span>, a logarithm of <span class="math inline">\(y\)</span>, the square root of <span class="math inline">\(y\)</span>, or <span class="math inline">\(y^2\)</span>.</p>
<ul>
<li>Anything more complicated than that should suggest that you consider a different modeling approach or revision to your outcome.</li>
<li>There is no point in demonstrating all possible transformations in your final work. Describe the transformation you make and your reason for it, then move on.</li>
<li>If you use a transformation of an outcome, please back-transform out of that in presenting final prediction results where possible, perhaps in a nomogram or a demonstration of what the model predicts for a pair of fictional subjects like “Harry and Sally.”</li>
</ul>
<section id="using-splines-and-other-complex-predictors" class="level2">
<h2 class="anchored" data-anchor-id="using-splines-and-other-complex-predictors">Using Splines and other Complex Predictors</h2>
<blockquote class="blockquote">
<p>How should I describe a restricted cubic spline that I’ve fit in a model? Do I write out that equation with the variablename’ and variablename’’ in it, or … ?</p>
</blockquote>
<p>Tell us how many knots were involved and show a graph that depicts the impact of the spline.</p>
<ul>
<li>No one explains splines without a graph.</li>
</ul>
<p>Make a graph and use it is excellent advice for many aspects of your presentation. Sensible graphs to accomplish this task in a multivariate regression model include the <code>ggplot</code> with <code>Predict</code> combination, the <code>plot(summary())</code> approach, and/or a nomogram.</p>
</section>
<section id="variable-selection" class="level2">
<h2 class="anchored" data-anchor-id="variable-selection">Variable Selection</h2>
<blockquote class="blockquote">
<p>What is the best way to select an appropriate set of predictors?</p>
</blockquote>
<p>It depends in part on the kind of question you are trying to answer. For most projects, I recommend a question that is explicitly about prediction, rather than either (a) trying to explain a phenomenon in existing data without reference to external prediction or (b) trying to make some sort of causal inference, which requires methods beyond the scope of this class.</p>
<p>What I would always try to do is start with a question I want to answer, which should motivate specific predictors. A combination of logic, theory and prior empirical evidence is always preferable. A scan of the literature is always useful. A conceptual model of the relationship which makes predictions about what “should” happen under current understanding can be very helpful. I strongly urge you to pick a project where you have some prior understanding of how the data will behave and where you can express that pre-modeling belief as part of your presentation of your work.</p>
<p>What I would definitely not do is scan a list of correlations in the current data to see which ones look promising, and then forget that I did that when it came time to evaluate the models I developed. It’s fine to go on a fishing expedition here, but then you have to severely temper your claims, and in particular you have to give up on drawing any substantial conclusions about causation or explanation and focus instead on a question about prediction, and (of course) validation of your model becomes essential.</p>
</section>
</section>
<section id="need-help-1" class="level1">
<h1>Need Help?</h1>
<p>Repeating, Questions about Project A may be directed to the TAs and to Professor Love at any time after the start of the course. If you’re asking a question <a href="https://campuswire.com/">on Campuswire</a>, please use the <code>Project A</code> label, and we encourage you to ask general questions in public rather than privately, so as to get help from other students, and provide help to them.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>